# URL Shortener на Go

Минималистичный, безопасный и быстрый сокращатель ссылок, написанный на Go.  
Проект создан как pet-проект для портфолио и демонстрации навыков backend-разработки.

---

## План развития проекта

Этот pet-проект изначально создавался как MVP с минимальной функциональностью. Ниже — мой личный roadmap по превращению его в production-ready приложение, которое можно показывать на собеседованиях.

### Приоритетные задачи (в порядке важности)

1. **Архитектура**  
   Перейти от монолитного `main.go` к слоистой структуре:  
    /cmd
    /internal
    /handler # HTTP-обработчики
    /service # Бизнес-логика
    /repository # Работа с БД
    /model # Структуры данных

    → Это упростит тестирование, расширение и поддержку.

2. **Замена сырых SQL на ORM / query builder**  
Сейчас запросы написаны вручную — это работает, но:
- Нет типобезопасности
- Сложно поддерживать при росте схемы  
Планирую попробовать **GORM** (для простоты) или **sqlc** (для типобезопасности).

3. **Мониторинг: Prometheus + Grafana**  
Добавить метрики:
- Количество созданных ссылок
- Количество редиректов
- Время ответа  
→ Часто спрашивают на собеседованиях, плюс полезно для понимания нагрузки.

4. **Гарантированная уникальность `short_id`**  
Сейчас ID генерируются случайно — есть ненулевая вероятность коллизии.  
Решение: генерировать до тех пор, пока не будет уникального (с проверкой в БД), или использовать **nanoid** с проверкой.

5. **Избежание дубликатов URL**  
Если пользователь присылает уже сокращённый URL — не создавать новый `short_id`, а возвращать существующий.  
→ Экономия места в БД и удобство для пользователя.

---

### Дополнительно (в порядке интереса)

- **Unit- и integration-тесты**  
  Покрыть основные сценарии: генерация ID, сохранение, редирект, валидация.

- **Простой фронтенд**  
  HTML + CSS + немного JS:  
  - Поле ввода URL  
  - Кнопка "Сократить"  
  - Копирование результата одним кликом

- **Кэширование через Redis (опционально)**  
  Хранить топ-1000 популярных ссылок в памяти, чтобы снизить нагрузку на PostgreSQL.  
  → Не критично для MVP, но круто для демонстрации знаний инфраструктуры.

---

### Текущий статус

- [x] HTTP-сервер на Go  
- [x] Работа с PostgreSQL в Docker  
- [x] Генерация `short_id`  
- [x] Редирект по короткой ссылке  
- [ ] Архитектура по слоям  
- [ ] ORM / query builder  
- [ ] Тесты  
- [ ] Мониторинг  
- [ ] Фронтенд
- [ ] CI/CD
- [ ] Дашборд